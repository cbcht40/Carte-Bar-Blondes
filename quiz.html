<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trouver ma bi√®re id√©ale üç∫ | Caf√© Blondes</title>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700&family=Poppins:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root{
      --gold:#ffcc00;
      --gold-soft:#ffdb4d;
      --ink:#2b1a0a;
      --panel:#fff9e6;
    }
    *{box-sizing:border-box}
    body{
      margin:0;font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:#fff; text-align:center; background:url('IMG_0768.jpeg') center/cover fixed no-repeat; overflow-x:hidden;
    }
    body::before{
      content:""; position:fixed; inset:0; background:rgba(0,0,0,.62); backdrop-filter:blur(4px); z-index:0;
    }
    .wrap{position:relative; z-index:1; min-height:100dvh; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:24px}
    h1{font-family:Merriweather,serif; color:var(--gold); font-size:clamp(26px,3.5vw,42px); margin:0 0 8px; text-shadow:2px 2px 8px rgba(0,0,0,.8)}
    .sub{max-width:640px; margin:0 auto 28px; line-height:1.5}
    .card{
      width:min(560px,94vw); margin-inline:auto; background:var(--panel); color:var(--ink);
      border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,.45); padding:22px 20px; text-align:center;
      animation:fade .35s ease both;
    }
    @keyframes fade{from{opacity:0; transform:translateY(14px)} to{opacity:1; transform:translateY(0)}}
    .q-title{font-weight:700; font-size:clamp(18px,2.2vw,22px); margin:0 0 14px}
    .options{display:flex; flex-direction:column; gap:12px; margin-top:6px}
    .opt{
      background:var(--gold); color:var(--ink); border:none; border-radius:10px; padding:14px 16px;
      font-weight:700; font-size:16px; cursor:pointer; transition:.2s; box-shadow:0 4px 14px rgba(0,0,0,.18)
    }
    .opt:hover{transform:translateY(-2px); background:var(--gold-soft)}
    .progress{margin:14px 0 0; font-size:13px; opacity:.9; color:#674d26}
    /* Result */
    .beer-name{font-family:Merriweather,serif; color:#b8860b; font-size:clamp(22px,3vw,28px); margin:2px 0 8px}
    .beer-desc{color:var(--ink); margin:0 0 14px}
    .cta{display:inline-block; padding:10px 16px; background:var(--gold); color:var(--ink); border-radius:999px; text-decoration:none; font-weight:700}
    .cta:hover{background:var(--gold-soft)}
    .row-btns{display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-top:12px}
    .ghost{background:transparent; border:2px solid var(--gold); color:var(--ink); border-radius:999px; padding:9px 14px; font-weight:700; cursor:pointer}
    .ghost:hover{background:rgba(255,204,0,.15)}
    footer{position:fixed; bottom:10px; width:100%; color:var(--gold); font-size:13px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>üç∫ Trouve ta bi√®re id√©ale</h1>
    <p class="sub">R√©ponds √† quelques questions, et d√©couvre la bi√®re qui te correspond le mieux‚Ä¶</p>

    <div id="stage" class="card" aria-live="polite"></div>
  </div>
  <footer>¬© 2025 Caf√© Blondes ‚Äî Nancy</footer>

  <script>
    // ---- Questions
    const QUESTIONS = [
      { t: "Tu veux une bi√®re plut√¥t‚Ä¶",
        o: [
          ["Douce et facile √† boire","douce"],
          ["Am√®re et puissante","amere"],
          ["Fruit√©e et originale","fruitee"],
          ["Ronde et malt√©e","maltee"]
        ]
      },
      { t: "Tu pr√©f√®res une couleur‚Ä¶",
        o: [
          ["Blonde","blonde"],
          ["Ambr√©e","ambree"],
          ["Brune","brune"],
          ["Peu importe, surprends-moi !","surprise"]
        ]
      },
      { t: "Ton humeur du moment ?",
        o: [
          ["Me rafra√Æchir üçã","legere"],
          ["Me d√©tendre üçÇ","ronde"],
          ["Faire la f√™te üî•","forte"],
          ["Go√ªter quelque chose d‚Äôunique üåø","originale"]
        ]
      },
      { t: "Tu bois ta bi√®re‚Ä¶",
        o: [
          ["Avec des amis","conviviale"],
          ["En amoureux","douce"],
          ["En solo tranquille","ronde"],
          ["Pour un bon repas","maltee"]
        ]
      }
    ];

    // ---- Mappage profils -> bi√®res de TA carte
    const SUGGEST = {
      douce:   { name:"Blanche Bernardus", desc:"Blanche rafra√Æchissante, l√©g√®re et douce.", link:"carte.html#menu" },
      amere:   { name:"Delta IPA",         desc:"IPA belge bien houblonn√©e, fra√Æche et vive.", link:"carte.html#menu" },
      fruitee: { name:"Rouge Max",         desc:"Rouge douce aux notes de cerise et de malt.", link:"carte.html#menu" },
      maltee:  { name:"Prior Bernardus",   desc:"Abbaye belge ronde, malt√©e et √©quilibr√©e.", link:"carte.html#menu" },
      blonde:  { name:"Trappe Blonde",     desc:"Blonde trappiste florale et apaisante.", link:"carte.html#menu" },
      ambree:  { name:"Ibex",              desc:"Ambr√©e fran√ßaise douce et caram√©lis√©e.", link:"carte.html#menu" },
      brune:   { name:"Blackheart",        desc:"Stout intense, caf√© & chocolat noir.", link:"carte.html#menu" },
      surprise:{ name:"Whisky Infused",    desc:"Ambr√©e infus√©e au whisky, unique et chaleureuse.", link:"carte.html#menu" },
      legere:  { name:"Estaminet",         desc:"Pils fine, nette et tr√®s d√©salt√©rante.", link:"carte.html#menu" },
      ronde:   { name:"Trappe Blonde",     desc:"Blonde trappiste √©quilibr√©e, ronde et douce.", link:"carte.html#menu" },
      forte:   { name:"Triple Bernardus",  desc:"Triple dense et g√©n√©reuse, √©nergie dor√©e.", link:"carte.html#menu" },
      originale:{name:"Timut",             desc:"IPA au poivre Timut ‚Äî exotique et surprenante.", link:"carte.html#menu" },
      conviviale:{name:"Fouillote Blonde", desc:"Blonde locale simple, conviviale et accessible.", link:"carte.html#menu" }
    };

    let step = 0;
    const picks = [];
    const $stage = document.getElementById("stage");

    // Rendu d'une question
    function renderQuestion(){
      const q = QUESTIONS[step];
      $stage.innerHTML = `
        <div class="q-title">${q.t}</div>
        <div class="options">
          ${q.o.map(([label,val]) => `<button class="opt" data-v="${val}">${label}</button>`).join("")}
        </div>
        <div class="progress">Question ${step+1} / ${QUESTIONS.length}</div>
      `;
      [...$stage.querySelectorAll(".opt")].forEach(btn=>{
        btn.addEventListener("click", ()=> select(btn.dataset.v));
      });
    }

    function select(val){
      picks.push(val);
      step++;
      if(step < QUESTIONS.length){ renderQuestion(); }
      else { renderResult(); }
    }

    // Calcul du "profil" majoritaire
    function majority(arr){
      const counts = arr.reduce((acc,v)=> (acc[v]=(acc[v]||0)+1, acc), {});
      // prend la cl√© avec le max
      return Object.entries(counts).sort((a,b)=>b[1]-a[1])[0]?.[0] || "surprise";
    }

    // Rendu du r√©sultat (solide + text clair)
    function renderResult(){
      const key = majority(picks);
      const data = SUGGEST[key] || SUGGEST.surprise; // vrai fallback
      $stage.innerHTML = `
        <div class="q-title">Ta bi√®re id√©ale üç∫</div>
        <div class="beer-name">${data.name}</div>
        <p class="beer-desc">${data.desc}</p>
        <div class="row-btns">
          <a class="cta" href="${data.link}">üìú Voir sur la carte</a>
          <button class="ghost" onclick="restart()">Recommencer</button>
        </div>
      `;
    }

    function restart(){
      step = 0; picks.length = 0; renderQuestion();
    }

    // Lancement (toujours une question en premier)
    renderQuestion();
  </script>
</body>
</html>
